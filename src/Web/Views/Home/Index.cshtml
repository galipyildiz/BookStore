@model HomeIndexViewModel
@{
    ViewData["Title"] = "Home Page";
}
<form class="form-inline py-3">
    <label class="mr-1">Category:</label>
    <select asp-for="CategoryId" asp-items="Model.Categories" class="form-control mr-0 mr-sm-2"></select>
    <label class="mr-1 mt-2 mt-sm-0">Author:</label>
    <select asp-for="AuthorId" asp-items="Model.Authors" class="form-control"></select>
</form>

<div class="row mx-md-n2">
    @foreach (var item in Model.Products)
    {
        <div class="col-md-3 px-md-2 mb-3">
            <div class="product-image-wrapper">
                <img src="~/img/@item.PictureUri" class="product-image" />
            </div>
            <div class="product-name">
                @item.Name
            </div>
            <div class="author-name">
                @item.AuthorName
            </div>
            <div class="product-price">
                @item.Price.ToString("c2")
            </div>
        </div>
    }
</div>

<partial name="_PaginationPartial" model="Model.PaginationInfo">

@section scripts{
    <script>
        $("#CategoryId, #AuthorId").change(function () {
            $(this).closest("form").submit();
        });
    </script>
}
